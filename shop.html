<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIORI | Boutique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --miori-dark: #121212; --miori-bg-logo: #faf6f2; --miori-accent: #ab9083; --miori-sakura: #FFB7C5; }
        body { font-family: 'Montserrat', sans-serif; background-color: #fdfcfb; color: var(--miori-dark); }
        h1, h2, h3, .serif { font-family: 'Playfair Display', serif; }
        header, footer { background-color: var(--miori-bg-logo) !important; }
        .sakura-petal { position: absolute; background-color: var(--miori-sakura); border-radius: 150% 0 150% 0; opacity: 0.7; pointer-events: none; z-index: 1; animation: fall linear infinite; }
        @keyframes fall { 0% { transform: translate(0, -10px) rotate(0deg); opacity: 0; } 10% { opacity: 0.7; } 100% { transform: translate(100px, 100vh) rotate(360deg); opacity: 0; } }
        .sakura-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; overflow: hidden; }
        .cart-badge { background-color: #d8d2ce; color: var(--miori-dark); font-size: 0.65rem; padding: 2px 6px; border-radius: 99px; position: absolute; top: -8px; right: -10px; font-weight: 600; }
        .nav-link { position: relative; padding-bottom: 2px; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 1px; bottom: 0; left: 0; background-color: var(--miori-dark); transition: width 0.3s; }
        .nav-link:hover::after { width: 100%; }
        .stock-badge { font-size: 9px; text-transform: uppercase; letter-spacing: 0.15em; font-weight: 700; padding: 4px 8px; border-radius: 2px; }
        .stock-out { color: #ef4444; background-color: #fef2f2; }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <div class="sakura-bg" id="sakura-container"></div>
    <header class="fixed w-full top-0 z-50 border-b border-black/5">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center"><img src="https://i.postimg.cc/Njvr53jp/Design-sans-titre-(10).png" alt="MIORI" class="h-20 md:h-24"></a>
            <nav class="hidden md:flex space-x-10 text-[11px] uppercase tracking-[0.2em] font-medium">
                <a href="index.html" class="nav-link">Accueil</a>
                <a href="shop.html" class="nav-link">Boutique</a>
                <a href="about.html" class="nav-link">À Propos</a>
            </nav>
            <div class="flex items-center space-x-6">
                <a href="cart.html" class="relative hover:opacity-70 transition text-[#ab9083]">
                    <i class="fa-solid fa-bag-shopping text-xl"></i><span id="cart-count" class="cart-badge">0</span>
                </a>
                <button class="md:hidden" onclick="app.toggleMenu()"><i class="fa-solid fa-bars-staggered"></i></button>
            </div>
        </div>
    </header>

    <main class="flex-grow pt-44 pb-16 relative z-10 container mx-auto px-6">
        <div class="flex flex-col md:flex-row md:items-end justify-between mb-20 border-b border-black/5 pb-10">
            <div>
                <h1 class="text-4xl md:text-5xl serif mb-4 italic">La Boutique</h1>
                <p class="text-gray-400 text-xs tracking-widest uppercase">Asian-Lifestyle</p>
            </div>
            <div class="mt-8 md:mt-0 max-w-xs w-full relative">
                <input type="text" id="shop-search" onkeyup="app.filterProducts()" placeholder="Rechercher une pépite..." class="w-full bg-transparent border-b border-black/10 outline-none py-2 text-sm tracking-widest font-light">
                <i class="fa-solid fa-magnifying-glass absolute right-0 bottom-3 text-gray-300"></i>
            </div>
        </div>
        <div id="product-grid" class="grid grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-16 md:gap-x-12 md:gap-y-24">
            <!-- Dynamic Grid -->
        </div>
    </main>

    <footer class="py-16">
        <div class="container mx-auto px-6 text-center md:text-left grid grid-cols-1 md:grid-cols-3 gap-12">
            <div><img src="https://i.postimg.cc/Njvr53jp/Design-sans-titre-(10).png" class="h-32 mb-2 mx-auto md:mx-0"></div>
            <div><h4 class="text-[10px] uppercase tracking-widest font-bold mb-6">Suivez-nous</h4>
                <div class="flex justify-center md:justify-start space-x-6 text-xl"><i class="fa-brands fa-instagram text-[#ab9083]"></i><i class="fa-brands fa-tiktok text-[#ab9083]"></i></div>
            </div>
            <div><h4 class="text-[10px] uppercase tracking-widest font-bold mb-6">Newsletter</h4>
                <p class="text-[10px] text-gray-500 mb-4 italic">Inscrivez-vous pour recevoir nos nouveautés en avance.</p>
                <form onsubmit="app.submitNewsletter(event)" class="relative"><input type="email" id="newsletter-email" class="w-full bg-transparent border-b border-black/10 py-3 text-[11px]"><button type="submit" class="absolute right-0 bottom-3 text-[#ab9083]"><i class="fa-solid fa-paper-plane"></i></button></form>
            </div>
        </div>
    </footer>

    <script>
        const WHATSAPP_NUMBER = "212770216781";
        const PRODUCTS = [
            { id: 1, name: "Bague Nami", desc: "Élégance marine et pureté.", price: 39, image: "https://i.postimg.cc/vZddgjXS/Gemini-Generated-Image-zdtqa6zdtqa6zdtq-Photoroom.png", inStock: true },
            { id: 2, name: "Bague Chiyo", desc: "Finesse ancestrale et éclat discret.", price: 35, image: "https://i.postimg.cc/Bv0Dzqpy/unnamed-(18)-Photoroom.png", inStock: true },
            { id: 3, name: "Mini Masque hydratant", desc: "Hydratation instantanée en format voyage.", price: 12, image: "https://i.postimg.cc/LXrxQJC2/unnamed-(20)-Photoroom-(1).png", inStock: true },
            { id: 4, name: "Collier Kasumi", desc: "Éclat céleste et délicatesse.", price: 45, image: "https://i.postimg.cc/3NG9p3Z1/unnamed-(21)-Photoroom.png", inStock: false },
            { id: 5, name: "Boucles Selma", desc: "Raffinement pour vos soirées.", price: 39, image: "https://i.postimg.cc/tghXr6Cx/unnamed-(22)-Photoroom.png", inStock: true },
            { id: 6, name: "Mini Box K-Beauty Avocado", desc: "Nutrition intense et douceur.", price: 59, image: "https://i.postimg.cc/FR3Dk9pk/unnamed-(23)-Photoroom.png", inStock: true },
            { id: 7, name: "Mini Box K-Beauty Peach", desc: "Éclat fruité et fraîcheur.", price: 59, image: "https://i.postimg.cc/FHzpgbGv/unnamed-(24)-Photoroom.png", inStock: true },
            { id: 8, name: "Sakura Silk Cream", desc: "L'onctuosité de la soie.", price: 49, image: "https://i.postimg.cc/RZm6vv6X/unnamed-(25)-Photoroom.png", inStock: true },
            { id: 9, name: "Bague Nouha", desc: "Éclat doré et design contemporain.", price: 39, image: "https://i.postimg.cc/261wgnLC/unnamed-(28)-Photoroom.png", inStock: true }
        ];
        const app = {
            cart: JSON.parse(localStorage.getItem('miori_cart_2026')) || [],
            init() { this.renderProducts(PRODUCTS); this.updateCartCount(); this.createSakuraPetals(); },
            createSakuraPetals() { const container = document.getElementById('sakura-container'); setInterval(() => { const petal = document.createElement('div'); petal.className = 'sakura-petal'; petal.style.left = Math.random() * 100 + 'vw'; petal.style.width = '10px'; petal.style.height = '10px'; petal.style.animationDuration = '10s'; container.appendChild(petal); petal.addEventListener('animationend', () => petal.remove()); }, 3000); },
            updateCartCount() { document.getElementById('cart-count').innerText = this.cart.reduce((a, b) => a + b.qty, 0); },
            renderProducts(list) {
                document.getElementById('product-grid').innerHTML = list.map(p => `
                    <div class="product-card group cursor-pointer" onclick="location.href='product.html?id=${p.id}'">
                        <div class="aspect-[4/5] bg-gray-50 overflow-hidden mb-6 relative">
                            <img src="${p.image}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                            ${!p.inStock ? '<div class="absolute top-4 right-4 bg-red-50 text-red-500 text-[9px] px-2 py-1 font-bold">Épuisé</div>' : ''}
                        </div>
                        <h3 class="text-[11px] uppercase tracking-widest font-bold mb-2">${p.name}</h3>
                        <p class="text-[10px] text-gray-400 font-light mb-3">${p.desc}</p>
                        <p class="text-sm font-light ${!p.inStock ? 'opacity-30' : ''}">${p.price} MAD</p>
                    </div>
                `).join('');
            },
            filterProducts() { const q = document.getElementById('shop-search').value.toLowerCase(); this.renderProducts(PRODUCTS.filter(p => p.name.toLowerCase().includes(q))); },
            submitNewsletter(e) { e.preventDefault(); const email = document.getElementById('newsletter-email').value; window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent('Newsletter MIORI: ' + email)}`, '_blank'); }
        };
        window.onload = () => app.init();
    </script>
</body>
</html>